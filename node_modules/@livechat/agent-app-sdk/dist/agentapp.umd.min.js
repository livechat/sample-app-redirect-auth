!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).LiveChat={})}(this,function(e){"use strict";function b(t,e){return r.call(t,e)}function l(t){try{return!!t()}catch(t){return!0}}function o(t){return c.call(t).slice(8,-1)}function h(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function s(t){return S(h(t))}function E(t){return isNaN(t=+t)?0:(0<t?g:d)(t)}function L(t){return 0<t?y(E(t),9007199254740991):0}function f(t,e){var n=E(t);return n<0?m(n+e,0):x(n,e)}function t(a){return function(t,e,n){var r,o=s(t),i=L(o.length),u=f(n,i);if(a&&e!=e){for(;u<i;)if((r=o[u++])!=r)return!0}else for(;u<i;u++)if((a||u in o)&&o[u]===e)return a||u||0;return!a&&-1}}function n(t,e){var n,r=s(t),o=0,i=[];for(n in r)!b(j,n)&&b(r,n)&&i.push(n);for(;e.length>o;)b(r,n=e[o++])&&(~O(i,n)||i.push(n));return i}function w(t){return Object(h(t))}function i(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function p(t){return"object"==typeof t?null!==t:"function"==typeof t}function u(t,e){if(!p(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!p(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!p(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!p(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function a(t){return F?B.createElement(t):{}}function k(t){if(!p(t))throw TypeError(String(t)+" is not an object");return t}var r={}.hasOwnProperty,c={}.toString,v="".split,S=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==o(t)?v.call(t,""):Object(t)}:Object,d=Math.ceil,g=Math.floor,y=Math.min,m=Math.max,x=Math.min,j={},O=t(!1),A=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],R=Object.keys||function(t){return n(t,A)},T={f:Object.getOwnPropertySymbols},P={}.propertyIsEnumerable,M=Object.getOwnPropertyDescriptor,I={f:M&&!P.call({1:2},1)?function(t){var e=M(this,t);return!!e&&e.enumerable}:P},U=Object.assign,_=!U||l(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=U({},t)[n]||R(U({},e)).join("")!=r})?function(t,e){for(var n=w(t),r=arguments.length,o=1,i=T.f,u=I.f;o<r;)for(var a,c=S(arguments[o++]),s=i?R(c).concat(i(c)):R(c),f=s.length,l=0;l<f;)u.call(c,a=s[l++])&&(n[a]=c[a]);return n}:U,C="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")(),q=!l(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),B=C.document,F=p(B)&&p(B.createElement),D=!q&&!l(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}),N=Object.getOwnPropertyDescriptor,G={f:q?N:function(t,e){if(t=s(t),e=u(e,!0),D)try{return N(t,e)}catch(t){}if(b(t,e))return i(!I.f.call(t,e),t[e])}},$=Object.defineProperty,W={f:q?$:function(t,e,n){if(k(t),e=u(e,!0),k(n),D)try{return $(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},z=q?function(t,e,n){return W.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t};function V(t,e){return t(e={exports:{}},e.exports),e.exports}function Y(e,n){try{z(C,e,n)}catch(t){C[e]=n}return n}function H(t){return"Symbol(".concat(void 0===t?"":t,")_",(++rt+ot).toString(36))}function K(t){return it[t]||(it[t]=H(t))}var Z,J,Q,X=V(function(t){var e="__core-js_shared__",n=C[e]||Y(e,{});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.0.1",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),tt=X("native-function-to-string",Function.toString),et=C.WeakMap,nt="function"==typeof et&&/native code/.test(tt.call(et)),rt=0,ot=Math.random(),it=X("keys"),ut=C.WeakMap;if(nt){var at=new ut,ct=at.get,st=at.has,ft=at.set;Z=function(t,e){return ft.call(at,t,e),e},J=function(t){return ct.call(at,t)||{}},Q=function(t){return st.call(at,t)}}else{var lt=K("state");j[lt]=!0,Z=function(t,e){return z(t,lt,e),e},J=function(t){return b(t,lt)?t[lt]:{}},Q=function(t){return b(t,lt)}}function ht(t,e){for(var n=bt(e),r=W.f,o=G.f,i=0;i<n.length;i++){var u=n[i];b(t,u)||r(t,u,o(e,u))}}function pt(t,e){var n=jt[xt(t)];return n==Lt||n!=Et&&("function"==typeof e?l(e):!!e)}function vt(t,e){var n,r,o,i,u,a=t.target,c=t.global,s=t.stat;if(n=c?C:s?C[a]||Y(a,{}):(C[a]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(u=Ot(n,r))&&u.value:n[r],!kt(c?r:a+(s?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;ht(i,o)}(t.sham||o&&o.sham)&&z(i,"sham",!0),gt(n,r,i,t)}}var dt={set:Z,get:J,has:Q,enforce:function(t){return Q(t)?J(t):Z(t,{})},getterFor:function(n){return function(t){var e;if(!p(t)||(e=J(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},gt=V(function(t){var e=dt.get,a=dt.enforce,c=String(tt).split("toString");X("inspectSource",function(t){return tt.call(t)}),(t.exports=function(t,e,n,r){var o=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,u=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||b(n,"name")||z(n,"name",e),a(n).source=c.join("string"==typeof e?e:"")),t!==C?(o?!u&&t[e]&&(i=!0):delete t[e],i?t[e]=n:z(t,e,n)):i?t[e]=n:Y(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||tt.call(this)})}),yt=A.concat("length","prototype"),mt={f:Object.getOwnPropertyNames||function(t){return n(t,yt)}},wt=C.Reflect,bt=wt&&wt.ownKeys||function(t){var e=mt.f(k(t)),n=T.f;return n?e.concat(n(t)):e},St=/#|\.prototype\./,xt=pt.normalize=function(t){return String(t).replace(St,".").toLowerCase()},jt=pt.data={},Et=pt.NATIVE="N",Lt=pt.POLYFILL="P",kt=pt,Ot=G.f;vt({target:"Object",stat:!0,forced:Object.assign!==_},{assign:_});var At=function(n){return Object.assign({},n,{trackEvent:function(t,e){if("string"!=typeof t||"object"!=typeof e)throw new Error("You have to specify the event name and its properties");return n.sendMessage("track",{event_name:t,event_properties:e})}})},Rt=function(t){var e=null;return t.on("customer_profile",function(t){e=t}),Object.assign({},t,{getCustomerProfile:function(){return e}})},Tt=function(n){return Object.assign({},n,{sendQuickReplies:function(t,e){return n.sendMessage("send_quick_replies",{title:t,buttons:e})},sendCards:function(t){return n.sendMessage("send_cards",Array.isArray(t)?t:[t])}})};function Pt(n,t){return Object.assign({},t,{on:n.emitter.on,off:n.emitter.off,sendMessage:function(t,e){return void 0===e&&(e=null),n.sendMessage(t,e)}})}function Mt(t){return _t[t]||(_t[t]=Ut&&Ct[t]||(Ut?Ct:H)("Symbol."+t))}function It(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),qt))?n:Bt?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}var Ut=!l(function(){return!String(Symbol())}),_t=X("wks"),Ct=C.Symbol,qt=Mt("toStringTag"),Bt="Arguments"==o(function(){return arguments}()),Ft={};Ft[Mt("toStringTag")]="z";var Dt="[object z]"!==String(Ft)?function(){return"[object "+It(this)+"]"}:Ft.toString,Nt=Object.prototype;Dt!==Nt.toString&&gt(Nt,"toString",Dt,{unsafe:!0});function Gt(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function $t(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}function Wt(t){return void 0!==t&&(Ht.Array===t||Zt[Kt]===t)}function zt(r,o,t){if(Gt(r),void 0===o)return r;switch(t){case 0:return function(){return r.call(o)};case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}}function Vt(t){if(null!=t)return t[Jt]||t["@@iterator"]||Ht[It(t)]}function Yt(e,t,n,r){try{return r?t(k(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&k(o.call(e)),t}}var Ht={},Kt=Mt("iterator"),Zt=Array.prototype,Jt=Mt("iterator"),Qt=V(function(t){var l={};(t.exports=function(t,e,n,r,o){var i,u,a,c,s,f=zt(e,n,r?2:1);if(o)i=t;else{if("function"!=typeof(u=Vt(t)))throw TypeError("Target is not iterable");if(Wt(u)){for(a=0,c=L(t.length);a<c;a++)if((r?f(k(s=t[a])[0],s[1]):f(t[a]))===l)return l;return}i=u.call(t)}for(;!(s=i.next()).done;)if(Yt(i,f,s.value,r)===l)return l}).BREAK=l}),Xt=Mt("iterator"),te=!1;try{var ee=0;({next:function(){return{done:!!ee++}},return:function(){te=!0}})[Xt]=function(){return this}}catch(t){}function ne(t,e){var n,r=k(t).constructor;return void 0===r||null==(n=k(r)[ce])?e:Gt(n)}function re(){var t=+this;if(ye.hasOwnProperty(t)){var e=ye[t];delete ye[t],e()}}function oe(t){re.call(t.data)}var ie,ue,ae,ce=Mt("species"),se=C.document,fe=se&&se.documentElement,le=C.setImmediate,he=C.clearImmediate,pe=C.process,ve=C.MessageChannel,de=C.Dispatch,ge=0,ye={},me="onreadystatechange";le&&he||(le=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return ye[++ge]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},ie(ge),ge},he=function(t){delete ye[t]},"process"==o(pe)?ie=function(t){pe.nextTick(zt(re,t,1))}:de&&de.now?ie=function(t){de.now(zt(re,t,1))}:ve?(ae=(ue=new ve).port2,ue.port1.onmessage=oe,ie=zt(ae.postMessage,ae,1)):C.addEventListener&&"function"==typeof postMessage&&!C.importScripts?(ie=function(t){C.postMessage(t+"","*")},C.addEventListener("message",oe,!1)):ie=me in a("script")?function(t){fe.appendChild(a("script"))[me]=function(){fe.removeChild(this),re.call(t)}}:function(t){setTimeout(zt(re,t,1),0)});var we,be,Se,xe,je,Ee,Le,ke={set:le,clear:he},Oe=C.navigator,Ae=Oe&&Oe.userAgent||"",Re=G.f,Te=ke.set,Pe=C.MutationObserver||C.WebKitMutationObserver,Me=C.process,Ie=C.Promise,Ue="process"==o(Me),_e=Re(C,"queueMicrotask"),Ce=_e&&_e.value;Ce||(we=function(){var t,e;for(Ue&&(t=Me.domain)&&t.exit();be;){e=be.fn,be=be.next;try{e()}catch(t){throw be?xe():Se=void 0,t}}Se=void 0,t&&t.enter()},xe=Ue?function(){Me.nextTick(we)}:Pe&&!/(iPhone|iPod|iPad).*AppleWebKit/i.test(Ae)?(je=!0,Ee=document.createTextNode(""),new Pe(we).observe(Ee,{characterData:!0}),function(){Ee.data=je=!je}):Ie&&Ie.resolve?(Le=Ie.resolve(void 0),function(){Le.then(we)}):function(){Te.call(C,we)});function qe(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=Gt(n),this.reject=Gt(r)}function Be(t,e){if(k(t),p(e)&&e.constructor===t)return e;var n=tn.f(t);return(0,n.resolve)(e),n.promise}function Fe(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}function De(t,e,n){for(var r in e)gt(t,r,e[r],n);return t}function Ne(t,e,n){t&&!b(t=n?t:t.prototype,nn)&&en(t,nn,{configurable:!0,value:e})}function Ge(t){return"function"==typeof t?t:void 0}function $e(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e}function We(f,l,n){if(!l.notified){l.notified=!0;var r=l.reactions;Xe(function(){for(var c=l.value,s=1==l.state,t=0,e=function(t){var e,n,r,o=s?t.ok:t.fail,i=t.resolve,u=t.reject,a=t.domain;try{o?(s||(2===l.rejection&&An(f,l),l.rejection=1),!0===o?e=c:(a&&a.enter(),e=o(c),a&&(a.exit(),r=!0)),e===t.promise?u(pn("Promise-chain cycle")):(n=$e(e))?n.call(e,i,u):i(e)):u(c)}catch(t){a&&!r&&a.exit(),u(t)}};r.length>t;)e(r[t++]);l.reactions=[],l.notified=!1,n&&!l.rejection&&kn(f,l)})}}function ze(t,e,n){var r,o;xn?((r=vn.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),C.dispatchEvent(r)):r={promise:e,reason:n},(o=C["on"+t])?o(r):t===jn&&function(t,e){var n=C.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)}function Ve(e,n,r,o){return function(t){e(n,r,t,o)}}function Ye(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,We(t,e,!0))}var He,Ke,Ze,Je,Qe,Xe=Ce||function(t){var e={fn:t,next:void 0};Se&&(Se.next=e),be||(be=e,xe()),Se=e},tn={f:function(t){return new qe(t)}},en=W.f,nn=Mt("toStringTag"),rn=C,on=Mt("species"),un="Promise",an=ke.set,cn=Mt("species"),sn=dt.get,fn=dt.set,ln=dt.getterFor(un),hn=C[un],pn=C.TypeError,vn=C.document,dn=C.process,gn=C.fetch,yn=dn&&dn.versions,mn=yn&&yn.v8||"",wn=tn.f,bn=wn,Sn="process"==o(dn),xn=!!(vn&&vn.createEvent&&C.dispatchEvent),jn="unhandledrejection",En=kt(un,function(){function e(){}var t=hn.resolve(1),n=(t.constructor={})[cn]=function(t){t(e,e)};return!((Sn||"function"==typeof PromiseRejectionEvent)&&t.then(e)instanceof n&&0!==mn.indexOf("6.6")&&-1===Ae.indexOf("Chrome/66"))}),Ln=En||!function(t,e){if(!e&&!te)return!1;var n=!1;try{var r={};r[Xt]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}(function(t){hn.all(t).catch(function(){})}),kn=function(n,r){an.call(C,function(){var t,e=r.value;if(On(r)&&(t=Fe(function(){Sn?dn.emit("unhandledRejection",e,n):ze(jn,n,e)}),r.rejection=Sn||On(r)?2:1,t.error))throw t.value})},On=function(t){return 1!==t.rejection&&!t.parent},An=function(t,e){an.call(C,function(){Sn?dn.emit("rejectionHandled",t):ze("rejectionhandled",t,e.value)})},Rn=function(n,r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(n===t)throw pn("Promise can't be resolved itself");var o=$e(t);o?Xe(function(){var e={done:!1};try{o.call(t,Ve(Rn,n,e,r),Ve(Ye,n,e,r))}catch(t){Ye(n,e,t,r)}}):(r.value=t,r.state=1,We(n,r,!1))}catch(t){Ye(n,{done:!1},t,r)}}};En&&(hn=function(t){$t(this,hn,un),Gt(t),He.call(this);var e=sn(this);try{t(Ve(Rn,this,e),Ve(Ye,this,e))}catch(t){Ye(this,e,t)}},(He=function(t){fn(this,{type:un,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=De(hn.prototype,{then:function(t,e){var n=ln(this),r=wn(ne(this,hn));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Sn?dn.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&We(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Ke=function(){var t=new He,e=sn(t);this.promise=t,this.resolve=Ve(Rn,t,e),this.reject=Ve(Ye,t,e)},tn.f=wn=function(t){return t===hn||t===Ze?new Ke(t):bn(t)},"function"==typeof gn&&vt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return Be(hn,gn.apply(C,arguments))}})),vt({global:!0,wrap:!0,forced:En},{Promise:hn}),Ne(hn,un,!1),Je=function(t,e){return arguments.length<2?Ge(rn[t])||Ge(C[t]):rn[t]&&rn[t][e]||C[t]&&C[t][e]}(un),Qe=W.f,q&&Je&&!Je[on]&&Qe(Je,on,{configurable:!0,get:function(){return this}}),Ze=rn[un],vt({target:un,stat:!0,forced:En},{reject:function(t){var e=wn(this);return e.reject.call(void 0,t),e.promise}}),vt({target:un,stat:!0,forced:En},{resolve:function(t){return Be(this,t)}}),vt({target:un,stat:!0,forced:Ln},{all:function(t){var u=this,e=wn(u),a=e.resolve,c=e.reject,n=Fe(function(){var r=[],o=0,i=1;Qt(t,function(t){var e=o++,n=!1;r.push(void 0),i++,u.resolve(t).then(function(t){n||(n=!0,r[e]=t,--i||a(r))},c)}),--i||a(r)});return n.error&&c(n.value),e.promise},race:function(t){var e=this,n=wn(e),r=n.reject,o=Fe(function(){Qt(t,function(t){e.resolve(t).then(n.resolve,r)})});return o.error&&r(o.value),n.promise}});function Tn(){var t=k(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}var Pn="toString",Mn=/./[Pn],In=l(function(){return"/a/b"!=Mn.call({source:"a",flags:"b"})}),Un=Mn.name!=Pn;(In||Un)&&gt(RegExp.prototype,Pn,function(){var t=k(this);return"/".concat(t.source,"/","flags"in t?t.flags:!q&&t instanceof RegExp?Tn.call(t):void 0)},{unsafe:!0});function _n(t,e,n){var r,o,i=String(h(t)),u=E(e),a=i.length;return u<0||a<=u?n?"":void 0:(r=i.charCodeAt(u))<55296||56319<r||u+1===a||(o=i.charCodeAt(u+1))<56320||57343<o?n?i.charAt(u):r:n?i.slice(u,u+2):o-56320+(r-55296<<10)+65536}function Cn(t,e,n){return e+(n?_n(t,e,!0).length:1)}var qn,Bn,Fn=RegExp.prototype.exec,Dn=String.prototype.replace,Nn=Fn,Gn=(qn=/a/,Bn=/b*/g,Fn.call(qn,"a"),Fn.call(Bn,"a"),0!==qn.lastIndex||0!==Bn.lastIndex),$n=void 0!==/()??/.exec("")[1];(Gn||$n)&&(Nn=function(t){var e,n,r,o,i=this;return $n&&(n=new RegExp("^"+i.source+"$(?!\\s)",Tn.call(i))),Gn&&(e=i.lastIndex),r=Fn.call(i,t),Gn&&r&&(i.lastIndex=i.global?r.index+r[0].length:e),$n&&r&&1<r.length&&Dn.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r});function Wn(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==o(t))throw TypeError("RegExp#exec called on incompatible receiver");return Vn.call(t,e)}function zn(n,t,e,r){var o=Mt(n),i=!l(function(){var t={};return t[o]=function(){return 7},7!=""[n](t)}),u=i&&!l(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[Yn]=function(){return e}),e[o](""),!t});if(!i||!u||"replace"===n&&!Hn||"split"===n&&!Kn){var a=/./[o],c=e(o,""[n],function(t,e,n,r,o){return e.exec===Vn?i&&!o?{done:!0,value:a.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),s=c[0],f=c[1];gt(String.prototype,n,s),gt(RegExp.prototype,o,2==t?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}),r&&z(RegExp.prototype[o],"sham",!0)}}var Vn=Nn,Yn=Mt("species"),Hn=!l(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Kn=!l(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),Zn=Math.max,Jn=Math.min,Qn=Math.floor,Xn=/\$([$&`']|\d\d?|<[^>]*>)/g,tr=/\$([$&`']|\d\d?)/g;zn("replace",2,function(o,S,x){return[function(t,e){var n=h(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,n,e):S.call(String(n),t,e)},function(t,e){var n=x(S,t,this,e);if(n.done)return n.value;var r=k(t),o=String(this),i="function"==typeof e;i||(e=String(e));var u=r.global;if(u){var a=r.unicode;r.lastIndex=0}for(var c=[];;){var s=Wn(r,o);if(null===s)break;if(c.push(s),!u)break;""===String(s[0])&&(r.lastIndex=Cn(o,L(r.lastIndex),a))}for(var f,l="",h=0,p=0;p<c.length;p++){s=c[p];for(var v=String(s[0]),d=Zn(Jn(E(s.index),o.length),0),g=[],y=1;y<s.length;y++)g.push(void 0===(f=s[y])?f:String(f));var m=s.groups;if(i){var w=[v].concat(g,d,o);void 0!==m&&w.push(m);var b=String(e.apply(void 0,w))}else b=j(v,o,d,g,m,e);h<=d&&(l+=o.slice(h,d)+b,h=d+v.length)}return l+o.slice(h)}];function j(i,u,a,c,s,t){var f=a+i.length,l=c.length,e=tr;return void 0!==s&&(s=w(s),e=Xn),S.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return i;case"`":return u.slice(0,a);case"'":return u.slice(f);case"<":n=s[e.slice(1,-1)];break;default:var r=+e;if(0==r)return t;if(l<r){var o=Qn(r/10);return 0===o?t:o<=l?void 0===c[o-1]?e.charAt(1):c[o-1]+e.charAt(1):t}n=c[r-1]}return void 0===n?"":n})}});function er(t){var e;return p(t)&&(void 0!==(e=t[or])?!!e:"RegExp"==o(t))}function nr(t,e,n){if(er(e))throw TypeError("String.prototype."+n+" doesn't accept regex");return String(h(t))}function rr(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[ir]=!1,"/./"[e](n)}catch(t){}}return!1}var or=Mt("match"),ir=Mt("match"),ur="startsWith",ar=rr(ur),cr=""[ur];function sr(){return(sr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}vt({target:"String",proto:!0,forced:!ar},{startsWith:function(t){var e=nr(this,t,ur),n=L(Math.min(1<arguments.length?arguments[1]:void 0,e.length)),r=String(t);return cr?cr.call(e,r,n):e.slice(n,n+r.length)===r}});var fr=function(r){return r=r||Object.create(null),{on:function(t,e){(r[t]||(r[t]=[])).push(e)},off:function(t,e){r[t]&&r[t].splice(r[t].indexOf(e)>>>0,1)},emit:function(e,n){(r[e]||[]).slice().map(function(t){t(n)}),(r["*"]||[]).slice().map(function(t){t(e,n)})}}},lr=function(){var n=Object.create(null),i=fr(n);return sr({},i,{off:function(t,e){t?i.off(t,e):Object.keys(n).forEach(function(t){delete n[t]})},once:function(r,o){i.on(r,function t(e,n){i.off(r,t),o(e,n)})}})},hr={}.hasOwnProperty;function pr(t,e){return hr.call(e,t)}function vr(){}function dr(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(void 0,arguments))}}function gr(){return(gr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}document.documentElement.currentStyle;var yr=function(r){return function(e){return function(t,n){0===t&&e(0,function(t,e){n(t,1===t?r(e):e)})}}};var mr=function(u){return void 0===u&&(u={}),function(t){"function"==typeof u&&(u={next:u});var n,e=u,r=e.next,o=e.error,i=e.complete;t(0,function(t,e){0===t&&(n=e),1===t&&r&&r(e),1!==t&&0!==t||n(1),2===t&&!e&&i&&i(),2===t&&e&&o&&o(e)});return function(){n&&n(2)}}};function wr(n){return new Promise(function(t,e){mr({next:t,error:e,complete:function(){var t=new Error("No elements in sequence.");t.code="NO_ELEMENTS",e(t)}})(function(e){return function(t,n){if(0===t){var r,o,i=!1,u=!1;e(0,function(t,e){return 0===t?(r=e,void n(0,function(t,e){2===t&&(u=!0),r(t,e)})):1===t?(i=!0,o=e,void r(1)):void(2===t&&!e&&i&&(n(1,o),u)||n(t,e))})}}}(n))})}function br(e){var c,s=[];return function(t,u){if(0===t){s.push(u);var a=function(t,e){if(2===t){var n=s.indexOf(u);-1<n&&s.splice(n,1),s.length||c(2)}else c(t,e)};1!==s.length?u(0,a):e(0,function(t,e){if(0===t)c=e,u(0,a);else{var n=s.slice(0),r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}i(t,e)}}2===t&&(s=[])})}}}var Sr=function(o){return function(e){return function(t,n){var r;0===t&&e(0,function(t,e){0===t?n(t,r=e):1===t?o(e)?n(t,e):r(1):n(t,e)})}}},xr=function(r){return function(t){var n;t(0,function(t,e){0===t&&(n=e),1===t&&r(e),1!==t&&0!==t||n(1)})}},jr=function(u){return function(e){return function(t,n){if(0===t){var r,o=0;e(0,function(t,e){0===t?(r=e,n(0,i)):1===t?o<u&&(o++,n(t,e),o===u&&(n(2),r(2))):n(t,e)})}function i(t,e){o<u&&r(t,e)}}}};function Er(r){return function(t,e){if(0===t){var n=!1;e(0,function(t){2===t&&(n=!0)}),e(1,r()),n||e(2)}}}var Lr="@@livechat/postmessenger",kr="handshake",Or="response",Ar=function(e){return function(t,r){if(0===t){var o,i,u=!1;e(0,function(t,e){if(0===t)o=e,r(0,a);else if(1===t){var n=e;i&&i(2),n(0,function(t,e){0===t?(i=e)(1):1===t?r(1,e):2===t&&e?(o(2),r(2,e)):2===t&&(u?r(2):(i=void 0,o(1)))})}else 2===t&&e?(i&&i(2),r(2,e)):2===t&&(i?u=!0:r(2))})}function a(t,e){1===t&&(i||o)(1,e),2===t&&(i&&i(2),o(2))}}};function Rr(r){return function(t,e){if(0===t){var n=!1;e(0,function(t){2===t&&(n=!0)}),n||e(2,r||new Error)}}}function Tr(o,i,u){return function(t,e){if(0===t){var n=!1,r=function(t){e(1,t)};e(0,function(t){2===t&&(n=!0,o.removeEventListener(i,r,u))}),n||o.addEventListener(i,r,u)}}}function Pr(t){return!!t.data&&t.data[Lr]}var Mr=function(){for(var t=arguments.length,s=new Array(t),e=0;e<t;e++)s[e]=arguments[e];return function(t,r){if(0===t)for(var o=s.length,i=new Array(o),u=0,a=0,c=function(t){if(0!==t)for(var e=0;e<o;e++)i[e]&&i[e](t)},e=function(n){s[n](0,function(t,e){0===t?(i[n]=e,1==++u&&r(0,c)):2===t?(i[n]=void 0,++a===o&&r(2)):r(t,e)})},n=0;n<o;n++)e(n)}},Ir=function(){return br(Sr(function(){return"complete"===document.readyState})(Mr(Er(vr),Tr(document,"readystatechange"))))},Ur=dr(function(){return br(yr(function(t){return t.data.origin=t.origin,t.data})(Sr(Pr)(Tr(window,"message"))))});function _r(e){return function(t){return Ar(yr(e)(t))}}function Cr(t,e,n,r){return void 0===r&&(r=qr++),function(t){return Ar(function(r){return function(t,e){if(0===t){var n=!1;e(0,function(t){2===t&&(n=!0)}),e(1,r()),n||e(2)}}}(t))}(function(){return n.request=r,e(n),jr(1)(_r(function(t){if(!t.data.error)return Er(function(){return t.data.result});var e=t.data.result,n=e.real,r=e.error;if(!n)return Rr(r);var o=new Error(r.message);return pr("code",r)&&(o.code=r.code),Rr(o)})(Sr(function(t){return t.type===Or&&t.request===r})(t)))})}var qr=0,Br=function(t,o,i,u,e){return void 0===e&&(e=null),gr({},t,{call:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return wr(Cr(o,u,i("call",{method:t,args:n})))},emit:function(t,e){u(i("emit",{event:t,arg:e}))},data:e})},Fr=function(t,e,n,r){var o;return(o={"@@livechat/postmessenger":!0}).owner=t,o.instance=e,o.type=n,o.data=r,o},Dr=function(o,i,u,a){return function(r){switch(r.type){case"call":return void function(e){return new Promise(function(t){t(e())})}(function(){var t=r.data,e=t.method,n=t.args;return a[e].apply(o,n)}).then(function(t){r.type=Or,r.data={error:!1,result:t},u(r)},function(t){var e;r.type=Or,t instanceof Error?(e={real:!0,error:{message:t.message}},pr("code",t)&&(e.error.code=t.code)):e={real:!1,error:t},r.data={error:!0,result:e},u(r)});case"emit":var t=r.data,e=t.event,n=t.arg;return void i(e,n);default:return}}},Nr=function(t){return function(n,r){return Object.keys(r).reduce(function(t,e){return t[n(r[e])?0:1][e]=r[e],t},[{},{}])}(function(t){return"function"==typeof t},t)};function Gr(p,t){void 0===p&&(p={});var e=(void 0===t?{}:t).handshakeTimeout,n=void 0===e?3e3:e,r=_r(function(){return jr(1)(function(a){return function(e){return function(t,n){if(0===t){var r,o,i=a instanceof Date;e(0,function(t,e){if(0===t)return r=e,u(i?a-Date.now():a),void n(0,function(t,e){2===t&&clearTimeout(o),r(t,e)});2===t?clearTimeout(o):1!==t||i||(clearTimeout(o),u(a)),n(t,e)})}function u(t){o=setTimeout(function(){r(2);var t=new Error("Timeout.");t.code="TIMEOUT",n(2,t)},t)}}}}(n)(function(o){return function(e){return function(t,n){var r;0===t&&e(0,function(t,e){if(1===t||2===t&&void 0===e){if(!r&&2===t)return n(t,e);r&&clearTimeout(r),r=setTimeout(function(){n(t,e),r=void 0},o)}else n(t,e)})}}}(50)(Sr(function(t){return t.type===kr})(Ur()))))})(jr(1)(Ir()));return{promise:wr(yr(function(t){function e(t){c.postMessage(t,o)}var n=t.instance,r=t.owner,o=t.origin,i=Nr(p),u=i[0],a=i[1],c=window.parent,s=lr(),f=Sr(function(t){return t.owner===r})(Ur()),l=Br(s,f,function(t,e){return Fr(r,n,t,e)},e,t.data),h=Dr(l,s.emit,e,u);return xr(h)(f),e(gr({},t,{type:Or,data:{error:!1,result:a}})),l})(r))}}function $r(){}var Wr=q?Object.defineProperties:function(t,e){k(t);for(var n,r=R(e),o=r.length,i=0;i<o;)W.f(t,n=r[i++],e[n]);return t},zr=K("IE_PROTO"),Vr="prototype",Yr=function(){var t,e=a("iframe"),n=A.length,r="script";for(e.style.display="none",fe.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object</"+r+">"),t.close(),Yr=t.F;n--;)delete Yr[Vr][A[n]];return Yr()},Hr=Object.create||function(t,e){var n;return null!==t?($r[Vr]=k(t),n=new $r,$r[Vr]=null,n[zr]=t):n=Yr(),void 0===e?n:Wr(n,e)};j[zr]=!0;var Kr=Mt("unscopables"),Zr=Array.prototype;null==Zr[Kr]&&z(Zr,Kr,Hr(null));function Jr(t){Zr[Kr][t]=!0}var Qr=t(!0);vt({target:"Array",proto:!0},{includes:function(t){return Qr(this,t,1<arguments.length?arguments[1]:void 0)}}),Jr("includes");var Xr,to,eo,no=!l(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),ro=K("IE_PROTO"),oo=Object.prototype,io=no?Object.getPrototypeOf:function(t){return t=w(t),b(t,ro)?t[ro]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?oo:null},uo=Mt("iterator"),ao=!1;[].keys&&("next"in(eo=[].keys())?(to=io(io(eo)))!==Object.prototype&&(Xr=to):ao=!0),null==Xr&&(Xr={}),b(Xr,uo)||z(Xr,uo,function(){return this});function co(){return this}function so(t,e,n){var r=e+" Iterator";return t.prototype=Hr(po,{next:i(1,n)}),Ne(t,r,!1),Ht[r]=co,t}function fo(){return this}function lo(t,e,n,r,o,i,u){function a(t){if(t===o&&d)return d;if(!mo&&t in p)return p[t];switch(t){case"keys":case wo:case bo:return function(){return new n(this,t)}}return function(){return new n(this)}}so(n,e,r);var c,s,f,l=e+" Iterator",h=!1,p=t.prototype,v=p[go]||p["@@iterator"]||o&&p[o],d=!mo&&v||a(o),g="Array"==e&&p.entries||v;if(g&&(c=io(g.call(new t)),yo!==Object.prototype&&c.next&&(io(c)!==yo&&(vo?vo(c,yo):"function"!=typeof c[go]&&z(c,go,fo)),Ne(c,l,!0))),o==wo&&v&&v.name!==wo&&(h=!0,d=function(){return v.call(this)}),p[go]!==d&&z(p,go,d),Ht[e]=d,o)if(s={values:a(wo),keys:i?d:a("keys"),entries:a(bo)},u)for(f in s)!mo&&!h&&f in p||gt(p,f,s[f]);else vt({target:e,proto:!0,forced:mo||h},s);return s}var ho={IteratorPrototype:Xr,BUGGY_SAFARI_ITERATORS:ao},po=ho.IteratorPrototype,vo=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(t){}return function(t,e){return function(t,e){if(k(t),!p(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(t,e),r?n.call(t,e):t.__proto__=e,t}}():void 0),go=Mt("iterator"),yo=ho.IteratorPrototype,mo=ho.BUGGY_SAFARI_ITERATORS,wo="values",bo="entries",So="Array Iterator",xo=dt.set,jo=dt.getterFor(So),Eo=lo(Array,"Array",function(t,e){xo(this,{type:So,target:s(t),index:0,kind:e})},function(){var t=jo(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");Ht.Arguments=Ht.Array,Jr("keys"),Jr("values"),Jr("entries");function Lo(t,e){var n=[][t];return!n||!l(function(){n.call(null,e||function(){throw 1},1)})}var ko=[].join,Oo=S!=Object,Ao=Lo("join",",");vt({target:"Array",proto:!0,forced:Oo||Ao},{join:function(t){return ko.call(s(this),void 0===t?",":t)}});function Ro(t,e,n){var r=u(e);r in t?W.f(t,r,i(0,n)):t[r]=n}function To(e){return!l(function(){var t=[];return(t.constructor={})[Mo]=function(){return{foo:1}},1!==t[e](Boolean).foo})}var Po=Array.isArray||function(t){return"Array"==o(t)},Mo=Mt("species"),Io=Mt("species"),Uo=[].slice,_o=Math.max,Co=To("slice");vt({target:"Array",proto:!0,forced:!Co},{slice:function(t,e){var n,r,o,i=s(this),u=L(i.length),a=f(t,u),c=f(void 0===e?u:e,u);if(Po(i)&&("function"!=typeof(n=i.constructor)||n!==Array&&!Po(n.prototype)?!p(n)||null===(n=n[Io])&&(n=void 0):n=void 0,n===Array||void 0===n))return Uo.call(i,a,c);for(r=new(void 0===n?Array:n)(_o(c-a,0)),o=0;a<c;a++,o++)a in i&&Ro(r,o,i[a]);return r.length=o,r}});var qo="String Iterator",Bo=dt.set,Fo=dt.getterFor(qo);lo(String,"String",function(t){Bo(this,{type:qo,string:String(t),index:0})},function(){var t,e=Fo(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=_n(n,r,!0),e.index+=t.length,{value:t,done:!1})});var Do=[].push,No=Math.min,Go=4294967295,$o=!l(function(){return!RegExp(Go,"y")});zn("split",2,function(o,g,y){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n=String(h(this)),r=void 0===e?Go:e>>>0;if(0==r)return[];if(void 0===t)return[n];if(!er(t))return g.call(n,t,r);for(var o,i,u,a=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),s=0,f=new RegExp(t.source,c+"g");(o=Vn.call(f,n))&&!(s<(i=f.lastIndex)&&(a.push(n.slice(s,o.index)),1<o.length&&o.index<n.length&&Do.apply(a,o.slice(1)),u=o[0].length,s=i,a.length>=r));)f.lastIndex===o.index&&f.lastIndex++;return s===n.length?!u&&f.test("")||a.push(""):a.push(n.slice(s)),a.length>r?a.slice(0,r):a}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:g.call(this,t,e)}:g,[function(t,e){var n=h(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,n,e):m.call(String(n),t,e)},function(t,e){var n=y(m,t,this,e,m!==g);if(n.done)return n.value;var r=k(t),o=String(this),i=ne(r,RegExp),u=r.unicode,a=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+($o?"y":"g"),c=new i($o?r:"^(?:"+r.source+")",a),s=void 0===e?Go:e>>>0;if(0==s)return[];if(0===o.length)return null===Wn(c,o)?[o]:[];for(var f=0,l=0,h=[];l<o.length;){c.lastIndex=$o?l:0;var p,v=Wn(c,$o?o:o.slice(l));if(null===v||(p=No(L(c.lastIndex+($o?0:l)),o.length))===f)l=Cn(o,l,u);else{if(h.push(o.slice(f,l)),h.length===s)return h;for(var d=1;d<=v.length-1;d++)if(h.push(v[d]),h.length===s)return h;l=f=p}}return h.push(o.slice(f)),h}]},!$o);var Wo={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},zo=Mt("iterator"),Vo=Mt("toStringTag"),Yo=Eo.values;for(var Ho in Wo){var Ko=C[Ho],Zo=Ko&&Ko.prototype;if(Zo){if(Zo[zo]!==Yo)try{z(Zo,zo,Yo)}catch(t){Zo[zo]=Yo}if(Zo[Vo]||z(Zo,Vo,Ho),Wo[Ho])for(var Jo in Eo)if(Zo[Jo]!==Eo[Jo])try{z(Zo,Jo,Eo[Jo])}catch(t){Zo[Jo]=Eo[Jo]}}}function Qo(t){var e,n,r,o,i=w(t),u="function"==typeof this?this:Array,a=arguments.length,c=1<a?arguments[1]:void 0,s=void 0!==c,f=0,l=Vt(i);if(s&&(c=zt(c,2<a?arguments[2]:void 0,2)),null==l||u==Array&&Wt(l))for(n=new u(e=L(i.length));f<e;f++)Ro(n,f,s?c(i[f],f):i[f]);else for(o=l.call(i),n=new u;!(r=o.next()).done;f++)Ro(n,f,s?Yt(o,c,[r.value,f],!0):r.value);return n.length=f,n}function Xo(t){return t+22+75*(t<26)}function ti(t,e,n){var r=0;for(t=n?gi(t/700):t>>1,t+=gi(t/e);455<t;r+=36)t=gi(t/35);return gi(r+36*t/(t+38))}function ei(t){var e,n,r=[],o=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var o=t.charCodeAt(n++);if(55296<=o&&o<=56319&&n<r){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),n--)}else e.push(o)}return e}(t)).length,i=128,u=0,a=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(yi(n));var c=r.length,s=c;for(c&&r.push("-");s<o;){var f=hi;for(e=0;e<t.length;e++)i<=(n=t[e])&&n<f&&(f=n);var l=s+1;if(f-i>gi((hi-u)/l))throw RangeError(di);for(u+=(f-i)*l,i=f,e=0;e<t.length;e++){if((n=t[e])<i&&++u>hi)throw RangeError(di);if(n==i){for(var h=u,p=36;;p+=36){var v=p<=a?1:a+26<=p?26:p-a;if(h<v)break;var d=h-v,g=36-v;r.push(yi(Xo(v+d%g))),h=gi(d/g)}r.push(yi(Xo(h))),a=ti(u,l,s==c),u=0,++s}}++u,++i}return r.join("")}function ni(t){var e=Vt(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return k(e.call(t))}function ri(e){try{return decodeURIComponent(e)}catch(t){return e}}function oi(t){for(var e,n=t.replace(Ei," "),r=4;r;)n=n.replace((e=r--,Li[e-1]||(Li[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))),ri);return n}function ii(t){return Oi[t]}function ui(t){return encodeURIComponent(t).replace(ki,ii)}function ai(t,e){if(e)for(var n,r,o=e.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),t.push({key:oi(r.shift()),value:oi(r.join("="))}));return t}function ci(t){this.entries.length=0,ai(this.entries,t)}function si(t,e){if(t<e)throw TypeError("Not enough arguments")}var fi=Mt("iterator"),li=!l(function(){var t=new URL("b?e=1","http://a"),e=t.searchParams;return t.pathname="c%20d",!e.sort||"http://a/c%20d?e=1"!==t.href||"1"!==e.get("e")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[fi]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash}),hi=2147483647,pi=/[^\0-\u007E]/,vi=/[\u002E\u3002\uFF0E\uFF61]/g,di="Overflow: input needs wider integers to process",gi=Math.floor,yi=String.fromCharCode,mi=Mt("iterator"),wi="URLSearchParams",bi=wi+"Iterator",Si=dt.set,xi=dt.getterFor(wi),ji=dt.getterFor(bi),Ei=/\+/g,Li=Array(4),ki=/[!'()~]|%20/g,Oi={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Ai=so(function(t,e){Si(this,{type:bi,iterator:ni(xi(t).entries),kind:e})},"Iterator",function(){var t=ji(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),Ri=function(){$t(this,Ri,wi);var t,e,n,r,o,i,u,a=0<arguments.length?arguments[0]:void 0,c=[];if(Si(this,{type:wi,entries:c,updateURL:null,updateSearchParams:ci}),void 0!==a)if(p(a))if("function"==typeof(t=Vt(a)))for(e=t.call(a);!(n=e.next()).done;){if((o=(r=ni(k(n.value))).next()).done||(i=r.next()).done||!r.next().done)throw TypeError("Expected sequence with length 2");c.push({key:o.value+"",value:i.value+""})}else for(u in a)b(a,u)&&c.push({key:u,value:a[u]+""});else ai(c,"string"==typeof a?"?"===a.charAt(0)?a.slice(1):a:a+"")},Ti=Ri.prototype;De(Ti,{append:function(t,e){si(arguments.length,2);var n=xi(this);n.entries.push({key:t+"",value:e+""}),n.updateURL&&n.updateURL()},delete:function(t){si(arguments.length,1);for(var e=xi(this),n=e.entries,r=t+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;e.updateURL&&e.updateURL()},get:function(t){si(arguments.length,1);for(var e=xi(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){si(arguments.length,1);for(var e=xi(this).entries,n=t+"",r=[],o=0;o<e.length;o++)e[o].key===n&&r.push(e[o].value);return r},has:function(t){si(arguments.length,1);for(var e=xi(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){si(arguments.length,1);for(var n,r=xi(this),o=r.entries,i=!1,u=t+"",a=e+"",c=0;c<o.length;c++)(n=o[c]).key===u&&(i?o.splice(c--,1):(i=!0,n.value=a));i||o.push({key:u,value:a}),r.updateURL&&r.updateURL()},sort:function(){var t,e,n,r=xi(this),o=r.entries,i=o.slice();for(e=o.length=0;e<i.length;e++){for(t=i[e],n=0;n<e;n++)if(o[n].key>t.key){o.splice(n,0,t);break}n===e&&o.push(t)}r.updateURL&&r.updateURL()},forEach:function(t){for(var e,n=xi(this).entries,r=zt(t,1<arguments.length?arguments[1]:void 0,3),o=0;o<n.length;)r((e=n[o++]).value,e.key,this)},keys:function(){return new Ai(this,"keys")},values:function(){return new Ai(this,"values")},entries:function(){return new Ai(this,"entries")}},{enumerable:!0}),gt(Ti,mi,Ti.entries),gt(Ti,"toString",function(){for(var t,e=xi(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(ui(t.key)+"="+ui(t.value));return n.join("&")},{enumerable:!0}),Ne(Ri,wi),vt({global:!0,forced:!li},{URLSearchParams:Ri});function Pi(t,e){var n,r,o;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return Ki;if(!(n=su(e.slice(1,-1))))return Ki;t.host=n}else if(gu(t)){if(e=function(t){var e,n,r=[],o=t.toLowerCase().replace(vi,".").split(".");for(e=0;e<o.length;e++)n=o[e],r.push(pi.test(n)?"xn--"+ei(n):n);return r.join(".")}(e),ou.test(e))return Ki;if(null===(n=cu(e)))return Ki;t.host=n}else{if(iu.test(e))return Ki;for(n="",r=Qo(e),o=0;o<r.length;o++)n+=vu(r[o],fu);t.host=n}}function Mi(t){var e,n,r,o;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=Math.floor(t/256);return e.join(".")}if("object"!=typeof t)return t;for(e="",r=function(t){for(var e=null,n=1,r=null,o=0,i=0;i<8;i++)0!==t[i]?(n<o&&(e=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return n<o&&(e=r,n=o),e}(t),n=0;n<8;n++)o&&0===t[n]||(o&&(o=!1),r===n?(e+=n?":":"::",o=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}function Ii(t){return""!=t.username||""!=t.password}function Ui(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme}function _i(t,e){var n;return 2==t.length&&Ji.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)}function Ci(t){var e;return 1<t.length&&_i(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)}function qi(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&_i(e[0],!0)||e.pop()}function Bi(t,e,n,r){var o,i,u,a,c,s,f=n||yu,l=0,h="",p=!1,v=!1,d=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(uu,"")),e=e.replace(au,""),o=Qo(e);l<=o.length;){switch(i=o[l],f){case yu:if(!i||!Ji.test(i)){if(n)return Hi;f=wu;continue}h+=i.toLowerCase(),f=mu;break;case mu:if(i&&(Qi.test(i)||"+"==i||"-"==i||"."==i))h+=i.toLowerCase();else{if(":"!=i){if(n)return Hi;h="",f=wu,l=0;continue}if(n&&(gu(t)!=b(du,h)||"file"==h&&(Ii(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=h,n)return void(gu(t)&&du[t.scheme]==t.port&&(t.port=null));h="","file"==t.scheme?f=Tu:gu(t)&&r&&r.scheme==t.scheme?f=bu:gu(t)?f=Eu:"/"==o[l+1]?(f=Su,l++):(t.cannotBeABaseURL=!0,t.path.push(""),f=_u)}break;case wu:if(!r||r.cannotBeABaseURL&&"#"!=i)return Hi;if(r.cannotBeABaseURL&&"#"==i){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,f=qu;break}f="file"==r.scheme?Tu:xu;continue;case bu:if("/"!=i||"/"!=o[l+1]){f=xu;continue}f=Lu,l++;break;case Su:if("/"==i){f=ku;break}f=Uu;continue;case xu:if(t.scheme=r.scheme,i==Di)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==i||"\\"==i&&gu(t))f=ju;else if("?"==i)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",f=Cu;else{if("#"!=i){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),f=Uu;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",f=qu}break;case ju:if(!gu(t)||"/"!=i&&"\\"!=i){if("/"!=i){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,f=Uu;continue}f=ku}else f=Lu;break;case Eu:if(f=Lu,"/"!=i||"/"!=h.charAt(l+1))continue;l++;break;case Lu:if("/"==i||"\\"==i)break;f=ku;continue;case ku:if("@"==i){p&&(h="%40"+h),p=!0,u=Qo(h);for(var g=0;g<u.length;g++){var y=u[g];if(":"!=y||d){var m=vu(y,pu);d?t.password+=m:t.username+=m}else d=!0}h=""}else if(i==Di||"/"==i||"?"==i||"#"==i||"\\"==i&&gu(t)){if(p&&""==h)return"Invalid authority";l-=Qo(h).length+1,h="",f=Ou}else h+=i;break;case Ou:case Au:if(n&&"file"==t.scheme){f=Mu;continue}if(":"!=i||v){if(i==Di||"/"==i||"?"==i||"#"==i||"\\"==i&&gu(t)){if(gu(t)&&""==h)return Ki;if(n&&""==h&&(Ii(t)||null!==t.port))return;if(a=Pi(t,h))return a;if(h="",f=Iu,n)return;continue}"["==i?v=!0:"]"==i&&(v=!1),h+=i}else{if(""==h)return Ki;if(a=Pi(t,h))return a;if(h="",f=Ru,n==Au)return}break;case Ru:if(!Xi.test(i)){if(i==Di||"/"==i||"?"==i||"#"==i||"\\"==i&&gu(t)||n){if(""!=h){var w=parseInt(h,10);if(65535<w)return Zi;t.port=gu(t)&&w===du[t.scheme]?null:w,h=""}if(n)return;f=Iu;continue}return Zi}h+=i;break;case Tu:if(t.scheme="file","/"==i||"\\"==i)f=Pu;else{if(!r||"file"!=r.scheme){f=Uu;continue}if(i==Di)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==i)t.host=r.host,t.path=r.path.slice(),t.query="",f=Cu;else{if("#"!=i){Ci(o.slice(l).join(""))||(t.host=r.host,t.path=r.path.slice(),qi(t)),f=Uu;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",f=qu}}break;case Pu:if("/"==i||"\\"==i){f=Mu;break}r&&"file"==r.scheme&&!Ci(o.slice(l).join(""))&&(_i(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),f=Uu;continue;case Mu:if(i==Di||"/"==i||"\\"==i||"?"==i||"#"==i){if(!n&&_i(h))f=Uu;else if(""==h){if(t.host="",n)return;f=Iu}else{if(a=Pi(t,h))return a;if("localhost"==t.host&&(t.host=""),n)return;h="",f=Iu}continue}h+=i;break;case Iu:if(gu(t)){if(f=Uu,"/"!=i&&"\\"!=i)continue}else if(n||"?"!=i)if(n||"#"!=i){if(i!=Di&&(f=Uu,"/"!=i))continue}else t.fragment="",f=qu;else t.query="",f=Cu;break;case Uu:if(i==Di||"/"==i||"\\"==i&&gu(t)||!n&&("?"==i||"#"==i)){if(".."===(s=(s=h).toLowerCase())||"%2e."===s||".%2e"===s||"%2e%2e"===s?(qi(t),"/"==i||"\\"==i&&gu(t)||t.path.push("")):"."===(c=h)||"%2e"===c.toLowerCase()?"/"==i||"\\"==i&&gu(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&_i(h)&&(t.host&&(t.host=""),h=h.charAt(0)+":"),t.path.push(h)),h="","file"==t.scheme&&(i==Di||"?"==i||"#"==i))for(;1<t.path.length&&""===t.path[0];)t.path.shift();"?"==i?(t.query="",f=Cu):"#"==i&&(t.fragment="",f=qu)}else h+=vu(i,hu);break;case _u:"?"==i?(t.query="",f=Cu):"#"==i?(t.fragment="",f=qu):i!=Di&&(t.path[0]+=vu(i,fu));break;case Cu:n||"#"!=i?i!=Di&&("'"==i&&gu(t)?t.query+="%27":t.query+="#"==i?"%23":vu(i,fu)):(t.fragment="",f=qu);break;case qu:i!=Di&&(t.fragment+=vu(i,lu))}l++}}function Fi(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}}var Di,Ni={URLSearchParams:Ri,getState:xi},Gi=C.URL,$i=Ni.URLSearchParams,Wi=Ni.getState,zi=dt.set,Vi=dt.getterFor("URL"),Yi=Math.pow,Hi="Invalid scheme",Ki="Invalid host",Zi="Invalid port",Ji=/[a-zA-Z]/,Qi=/[a-zA-Z0-9+\-.]/,Xi=/\d/,tu=/^(0x|0X)/,eu=/^[0-7]+$/,nu=/^\d+$/,ru=/^[0-9A-Fa-f]+$/,ou=/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/,iu=/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/,uu=/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,au=/\u0009|\u000A|\u000D/g,cu=function(t){var e,n,r,o,i,u,a,c=t.split(".");if(""!=c[c.length-1]||c.length&&c.pop(),4<(e=c.length))return t;for(n=[],r=0;r<e;r++){if(""==(o=c[r]))return t;if(i=10,1<o.length&&"0"==o.charAt(0)&&(i=tu.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)u=0;else{if(!(10==i?nu:8==i?eu:ru).test(o))return t;u=parseInt(o,i)}n.push(u)}for(r=0;r<e;r++)if(u=n[r],r==e-1){if(u>=Yi(256,5-e))return null}else if(255<u)return null;for(a=n.pop(),r=0;r<n.length;r++)a+=n[r]*Yi(256,3-r);return a},su=function(t){function e(){return t.charAt(h)}var n,r,o,i,u,a,c,s=[0,0,0,0,0,0,0,0],f=0,l=null,h=0;if(":"==e()){if(":"!=t.charAt(1))return;h+=2,l=++f}for(;e();){if(8==f)return;if(":"!=e()){for(n=r=0;r<4&&ru.test(e());)n=16*n+parseInt(e(),16),h++,r++;if("."==e()){if(0==r)return;if(h-=r,6<f)return;for(o=0;e();){if(i=null,0<o){if(!("."==e()&&o<4))return;h++}if(!Xi.test(e()))return;for(;Xi.test(e());){if(u=parseInt(e(),10),null===i)i=u;else{if(0==i)return;i=10*i+u}if(255<i)return;h++}s[f]=256*s[f]+i,2!=++o&&4!=o||f++}if(4!=o)return;break}if(":"==e()){if(h++,!e())return}else if(e())return;s[f++]=n}else{if(null!==l)return;h++,l=++f}}if(null!==l)for(a=f-l,f=7;0!=f&&0<a;)c=s[f],s[f--]=s[l+a-1],s[l+--a]=c;else if(8!=f)return;return s},fu={},lu=_({},fu,{" ":1,'"':1,"<":1,">":1,"`":1}),hu=_({},lu,{"#":1,"?":1,"{":1,"}":1}),pu=_({},hu,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),vu=function(t,e){var n=_n(t,0);return 32<n&&n<127&&!b(e,t)?t:encodeURIComponent(t)},du={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},gu=function(t){return b(du,t.scheme)},yu={},mu={},wu={},bu={},Su={},xu={},ju={},Eu={},Lu={},ku={},Ou={},Au={},Ru={},Tu={},Pu={},Mu={},Iu={},Uu={},_u={},Cu={},qu={},Bu=function(t){var e,n,r=$t(this,Bu,"URL"),o=1<arguments.length?arguments[1]:void 0,i=String(t),u=zi(r,{type:"URL"});if(void 0!==o)if(o instanceof Bu)e=Vi(o);else if(n=Bi(e={},String(o)))throw TypeError(n);if(n=Bi(u,i,null,e))throw TypeError(n);var a=u.searchParams=new $i,c=Wi(a);c.updateSearchParams(u.query),c.updateURL=function(){u.query=String(a)||null},q||(r.href=Du.call(r),r.origin=Nu.call(r),r.protocol=Gu.call(r),r.username=$u.call(r),r.password=Wu.call(r),r.host=zu.call(r),r.hostname=Vu.call(r),r.port=Yu.call(r),r.pathname=Hu.call(r),r.search=Ku.call(r),r.searchParams=Zu.call(r),r.hash=Ju.call(r))},Fu=Bu.prototype,Du=function(){var t=Vi(this),e=t.scheme,n=t.username,r=t.password,o=t.host,i=t.port,u=t.path,a=t.query,c=t.fragment,s=e+":";return null!==o?(s+="//",Ii(t)&&(s+=n+(r?":"+r:"")+"@"),s+=Mi(o),null!==i&&(s+=":"+i)):"file"==e&&(s+="//"),s+=t.cannotBeABaseURL?u[0]:u.length?"/"+u.join("/"):"",null!==a&&(s+="?"+a),null!==c&&(s+="#"+c),s},Nu=function(){var t=Vi(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&gu(t)?e+"://"+Mi(t.host)+(null!==n?":"+n:""):"null"},Gu=function(){return Vi(this).scheme+":"},$u=function(){return Vi(this).username},Wu=function(){return Vi(this).password},zu=function(){var t=Vi(this),e=t.host,n=t.port;return null===e?"":null===n?Mi(e):Mi(e)+":"+n},Vu=function(){var t=Vi(this).host;return null===t?"":Mi(t)},Yu=function(){var t=Vi(this).port;return null===t?"":String(t)},Hu=function(){var t=Vi(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Ku=function(){var t=Vi(this).query;return t?"?"+t:""},Zu=function(){return Vi(this).searchParams},Ju=function(){var t=Vi(this).fragment;return t?"#"+t:""};if(q&&Wr(Fu,{href:Fi(Du,function(t){var e=Vi(this),n=String(t),r=Bi(e,n);if(r)throw TypeError(r);Wi(e.searchParams).updateSearchParams(e.query)}),origin:Fi(Nu),protocol:Fi(Gu,function(t){var e=Vi(this);Bi(e,String(t)+":",yu)}),username:Fi($u,function(t){var e=Vi(this),n=Qo(String(t));if(!Ui(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=vu(n[r],pu)}}),password:Fi(Wu,function(t){var e=Vi(this),n=Qo(String(t));if(!Ui(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=vu(n[r],pu)}}),host:Fi(zu,function(t){var e=Vi(this);e.cannotBeABaseURL||Bi(e,String(t),Ou)}),hostname:Fi(Vu,function(t){var e=Vi(this);e.cannotBeABaseURL||Bi(e,String(t),Au)}),port:Fi(Yu,function(t){var e=Vi(this);Ui(e)||(""==(t=String(t))?e.port=null:Bi(e,t,Ru))}),pathname:Fi(Hu,function(t){var e=Vi(this);e.cannotBeABaseURL||(e.path=[],Bi(e,t+"",Iu))}),search:Fi(Ku,function(t){var e=Vi(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Bi(e,t,Cu)),Wi(e.searchParams).updateSearchParams(e.query)}),searchParams:Fi(Zu),hash:Fi(Ju,function(t){var e=Vi(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Bi(e,t,qu)):e.fragment=null})}),gt(Fu,"toJSON",function(){return Du.call(this)},{enumerable:!0}),gt(Fu,"toString",function(){return Du.call(this)},{enumerable:!0}),Gi){var Qu=Gi.createObjectURL,Xu=Gi.revokeObjectURL;Qu&&gt(Bu,"createObjectURL",function(t){return Qu.apply(Gi,arguments)}),Xu&&gt(Bu,"revokeObjectURL",function(t){return Xu.apply(Gi,arguments)})}Ne(Bu,"URL"),vt({global:!0,forced:!li,sham:!q},{URL:Bu});var ta=["livechatinc.com","livechat.com","my.lc:3000","legacy.lc:3001"];function ea(){var e=function(t){};return window.addEventListener("message",function(t){!function(t){if(!t)return!1;try{var e=new URL(t),n=e.hostname.split("."),r=n.slice(n.length-2).join("."),o=e.port?r+":"+e.port:r;return ta.includes(o)}catch(t){return!1}}(t.origin)||e(t.data)}),{listen:function(t){e=t},send:function(t){return parent.postMessage(t,"*"),Promise.resolve()}}}function na(t,e){var n;return Po(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Po(n.prototype)?!p(n)||null===(n=n[oa])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}function ra(l,t){var h=1==l,p=2==l,v=3==l,d=4==l,g=6==l,y=5==l||g,m=t||na;return function(t,e,n){for(var r,o,i=w(t),u=S(i),a=zt(e,n,3),c=L(u.length),s=0,f=h?m(t,c):p?m(t,0):void 0;s<c;s++)if((y||s in u)&&(o=a(r=u[s],s,i),l))if(h)f[s]=o;else if(o)switch(l){case 3:return!0;case 5:return r;case 6:return s;case 2:f.push(r)}else if(d)return!1;return g?-1:v||d?d:f}}var oa=Mt("species"),ia=ra(1),ua=To("map");vt({target:"Array",proto:!0,forced:!ua},{map:function(t){return ia(this,t,arguments[1])}});var aa=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};function ca(t){var e=location.search.replace(/^\?/,"").split("&").map(function(t){return t.split("=").map(decodeURIComponent)}).reduce(function(t,e){var n=e[0],r=e[1];return t[n]=r,t},{});return void 0!==e[t]?e[t]:null}zn("search",1,function(r,u,a){return[function(t){var e=h(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=a(u,t,this);if(e.done)return e.value;var n=k(t),r=String(this),o=n.lastIndex;aa(o,0)||(n.lastIndex=0);var i=Wn(n,r);return aa(n.lastIndex,o)||(n.lastIndex=o),null===i?-1:i.index}]});var sa="plugin_id",fa="connection",la="livechat:";function ha(){var e=ca(sa);return("plain"===ca(fa)?Promise.resolve(ea()):function(){var n=function(t){};return Gr({handle:function(t){n(t)}}).promise.then(function(e){return{listen:function(t){n=t},send:function(t){return e.call("handle",t).then(function(){})}}})}()).then(function(t){return function(n,r){var o=lr();return n.listen(function(t){if(t&&t.event_name){var e=t.event_name.toString(),n=t.event_data;e.startsWith(la)&&o.emit(e.replace(la,""),n)}}),{emitter:o,sendMessage:function(t,e){return void 0===e&&(e=null),n.send({plugin_id:r,message:t,data:e})}}}(t,e)})}var pa=l(function(){R(1)});vt({target:"Object",stat:!0,forced:pa},{keys:function(t){return R(w(t))}});var va="includes",da=rr(va);vt({target:"String",proto:!0,forced:!da},{includes:function(t){return!!~nr(this,t,va).indexOf(t,1<arguments.length?arguments[1]:void 0)}});var ga,ya,ma=[].forEach,wa=ra(0),ba=Lo("forEach")?function(t){return wa(this,t,arguments[1])}:ma;for(var Sa in Wo){var xa=C[Sa],ja=xa&&xa.prototype;if(ja&&ja.forEach!==ba)try{z(ja,"forEach",ba)}catch(t){ja.forEach=ba}}(ga=e.SectionComponentType||(e.SectionComponentType={})).Button="button",ga.LabelValue="label_value",ga.Title="title",ga.Link="link",ga.Line="line",ga.Customer="customer",ga.Tags="tags";var Ea=Object.keys(e.SectionComponentType).map(function(t){return e.SectionComponentType[t]}),La=((ya={})[e.SectionComponentType.Button]=function(t){var e=t.data;if(!e||!e.label)throw new Error("The button component must have a 'label' property");if(!e.id)throw new Error("The button component must have a 'id' property")},ya[e.SectionComponentType.Link]=function(t){var e=t.data;if(!e||!e.url)throw new Error("The link component must have a 'url' property")},ya[e.SectionComponentType.Title]=function(t){var e=t.data;if(!e||!e.title)throw new Error("The title component must have a 'title' property");if(void 0!==e.imgSize&&!["big","small"].includes(e.imgSize))throw new Error("The title component must have a valid 'imgSize' property, allowed values are 'small' and 'big'")},ya);function ka(t){if("object"!=typeof t)throw new Error("The component definition must be an object");var e=t.type;if("string"!=typeof e||!Ea.includes(e))throw new Error("Invalid component type given: '"+e+"'");var n=La[e];n&&n(t)}function Oa(e){var t=Pt(e,{putMessage:function(t){return e.sendMessage("put_message",t)},watchMessages:function(){return e.sendMessage("watch_messages")},refreshSession:function(){return e.sendMessage("plugin_loaded")},modifySection:function(t){return function(t){if(!t)throw new Error("You need to provide a section defintion");var e=t.title,n=t.components;if("string"!=typeof e||!e)throw new Error("You need to provide a title for the new section using the 'title' property");if(!Array.isArray(n)||!n.length)throw new Error("You need to provide an array of component definitions for your section using the 'components' property");n.forEach(ka)}(t),e.sendMessage("customer_details_section",t)}});return At(Tt(Rt(t)))}e.createDetailsWidget=function(){var e;return ha().then(function(t){return e=Oa(t),t.sendMessage("plugin_inited")}).then(function(){return e})},e.createFullscreenWidget=function(){return ha().then(function(t){return function(e){var t=Pt(e,{setNotificationBadge:function(t){return e.sendMessage("set_fullscreen_widget_notification_badge",t)}});return At(t)}(t)})},e.createMessageBoxWidget=function(){return ha().then(function(t){return function(n){var t=Pt(n,{putMessage:function(t){var e;return e="string"==typeof t?{type:"text",value:t}:{type:"rich_message",payload:t},n.sendMessage("put_messagebox_message",e)}});return At(Tt(Rt(t)))}(t)})},e.withCustomerProfile=Rt,Object.defineProperty(e,"__esModule",{value:!0})});
